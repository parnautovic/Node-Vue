(function(t){function e(e){for(var i,r,c=e[0],s=e[1],l=e[2],f=0,m=[];f<c.length;f++)r=c[f],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&m.push(o[r][0]),o[r]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(a.splice(e--,1),t=r(r.s=n[0]))}return t}var i={},o={app:0},a=[];function r(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=i,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=s;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1079:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{attrs:{id:"nav"}},[n("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),n("router-link",{attrs:{to:"/new"}},[t._v("New film")]),n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.logout}},[t._v("Logout")])],1),n("router-view")],1)},a=[],r=n("5530"),c=n("2f62"),s=n("8c4f"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Header"),n("b-container",[n("b-row",[n("b-col",{attrs:{cm:"6"}},[n("FilmoviList")],1)],1)],1)],1)},u=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-jumbotron",{attrs:{header:"Filmovi",lead:"Broj filmova: "+t.filmovi.length}})],1)},m=[],d={name:"Header",computed:Object(r["a"])({},Object(c["c"])(["filmovi"]))},p=d,h=n("2877"),v=Object(h["a"])(p,f,m,!1,null,"50a767ba",null),b=v.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.filmovi.length?n("b-table",{attrs:{hover:"","sticky-header":"800px",items:t.filmovi,fields:t.fields,"head-variant":"light"},on:{"row-clicked":t.editFilm},scopedSlots:t._u([{key:"cell(delete)",fn:function(e){return[n("b-button",{attrs:{variant:"danger"},on:{click:function(n){return t.delete_film(e.item.id)}}},[t._v("Delete")])]}},{key:"cell(oceni)",fn:function(e){return[n("b-button",{attrs:{variant:"success"},on:{click:function(n){return t.oceniFilm(e.item.id)}}},[t._v("Oceni")])]}},{key:"cell(edit)",fn:function(e){return[n("b-button",{attrs:{variant:"warning"},on:{click:function(n){return t.izmeniFilm(e.item.id)}}},[t._v("Izmeni")])]}}],null,!1,1893407728)}):n("h1",[t._v("No messages")])],1)},_=[],k={name:"FilmoviList.vue",computed:Object(r["a"])({},Object(c["c"])(["filmovi"])),data:function(){return{fields:[{key:"Naziv"},{key:"Godina"},{key:"Zanr"},{key:"delete"},{key:"oceni"},{key:"edit"}]}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["delete_film","load_filmovi"])),{},{editFilm:function(t,e,n){rt.push({path:"/film/".concat(t.id)})},oceniFilm:function(t){rt.push({path:"/oceni/".concat(t)})},izmeniFilm:function(t){rt.push({path:"/edit/".concat(t)})}}),mounted:function(){this.load_filmovi()}},y=k,x=Object(h["a"])(y,g,_,!1,null,"0571ec7a",null),j=x.exports,O={name:"Home",components:{Header:b,FilmoviList:j}},w=O,z=Object(h["a"])(w,l,u,!1,null,"c576c5a0",null),S=z.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("Header"),n("h2",[t._v("Film: "),n("b",[t._v(t._s(t.nazivFilma))])]),n("b-container",t._l(t.kritike,(function(e){return n("b-card",{key:e.idOcene,attrs:{title:"Ocena"}},[n("b-card-text",[t._v(t._s(e.Ocena))]),n("b-card-text",[t._v("Komentar: "+t._s(e.Komentar))])],1)})),1)],1)},F=[],$=(n("d3b7"),{name:"Film",components:{Header:b},data:function(){return{kritike:[],nazivFilma:""}},computed:Object(r["a"])({},Object(c["c"])(["filmovi"])),mounted:function(){var t=this;fetch("http://localhost:80/api/ocene/".concat(this.$route.params.id),{method:"get"}).then((function(t){if(!t.ok){if(403==t.status)return void rt.push({path:"/loginRegister"});throw t}return t.json()})).then((function(e){t.kritike=e})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}));for(var e=0;e<this.filmovi.length;e++)this.filmovi[e].id===parseInt(this.$route.params.id)&&(this.nazivFilma=this.filmovi[e].Naziv)}}),N=$,I=Object(h["a"])(N,C,F,!1,null,"09365f50",null),P=I.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite naziv filma",required:""},model:{value:t.naziv,callback:function(e){t.naziv=e},expression:"naziv"}})],1),n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite godinu",required:""},model:{value:t.godina,callback:function(e){t.godina=e},expression:"godina"}})],1),n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite zanr",required:""},model:{value:t.zanr,callback:function(e){t.zanr=e},expression:"zanr"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)},U=[],E={name:"NewFilm",data:function(){return{naziv:"",godina:"",zanr:""}},methods:Object(r["a"])({onSubmit:function(){var t=JSON.stringify({Naziv:this.naziv,Godina:this.godina,Zanr:this.zanr});this.new_film(t),this.$router.push({path:"/"})}},Object(c["b"])(["new_film"])),computed:Object(r["a"])({},Object(c["c"])(["filmovi"]))},L=E,q=Object(h["a"])(L,R,U,!1,null,"2c56f9f2",null),T=q.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",{on:{submit:t.onSubmit}},[n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite ocenu",required:""},model:{value:t.ocena,callback:function(e){t.ocena=e},expression:"ocena"}})],1),n("b-form-group",[n("b-form-textarea",{attrs:{placeholder:"Unesite komentar",required:""},model:{value:t.komentar,callback:function(e){t.komentar=e},expression:"komentar"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1)},J=[],G={name:"OceniFilm",data:function(){return{ocena:"",komentar:""}},methods:Object(r["a"])({onSubmit:function(){var t=JSON.stringify({Ocena:parseInt(this.ocena),Komentar:this.komentar,idFilma:parseInt(this.$route.params.id)});this.oceni_film({id:this.$route.params.id,ocena:t}),this.$router.push({path:"/film/".concat(this.$route.params.id)})}},Object(c["b"])(["oceni_film"]))},Z=G,M=Object(h["a"])(Z,H,J,!1,null,"5c125c4c",null),K=M.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-form",[n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite naziv filma",required:""},model:{value:t.naziv,callback:function(e){t.naziv=e},expression:"naziv"}})],1),n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite godinu",required:""},model:{value:t.godina,callback:function(e){t.godina=e},expression:"godina"}})],1),n("b-form-group",[n("b-form-input",{attrs:{placeholder:"Unesite zanr",required:""},model:{value:t.zanr,callback:function(e){t.zanr=e},expression:"zanr"}})],1),n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onSubmit}},[t._v("Submit")])],1)],1)},B=[],D={name:"EditFilm",data:function(){return{naziv:"",godina:"",zanr:""}},methods:Object(r["a"])({onSubmit:function(){var t=JSON.stringify({Naziv:this.naziv,Godina:this.godina,Zanr:this.zanr});this.change_film({id:this.$route.params.id,flm:t}),this.$router.push({path:"/"})}},Object(c["b"])(["new_film","change_film"])),computed:Object(r["a"])({},Object(c["c"])(["filmovi"])),mounted:function(){for(var t=0;t<this.filmovi.length;t++)this.filmovi[t].id===parseInt(this.$route.params.id)&&(this.naziv=this.filmovi[t].Naziv,this.zanr=this.filmovi[t].Zanr,this.godina=this.filmovi[t].Godina)}},Q=D,V=Object(h["a"])(Q,A,B,!1,null,"5ba1adc8",null),W=V.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("h3",{staticClass:"text-center text-white pt-5"},[t._v("Login form")]),n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-center align-items-center",attrs:{id:"login-row"}},[n("div",{staticClass:"col-md-6",attrs:{id:"login-column"}},[n("div",{staticClass:"col-md-12",attrs:{id:"login-box"}},[n("form",{staticClass:"form",attrs:{id:"login-form",action:"",method:"post"}},[n("h3",{staticClass:"text-center text-info"},[t._v("Login")]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-info",attrs:{for:"username"}},[t._v("Username:")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control",attrs:{type:"text",name:"username",id:"username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),n("div",{staticClass:"form-group"},[n("label",{staticClass:"text-info",attrs:{for:"password"}},[t._v("Password:")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"text",name:"password",id:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("br"),n("div",{staticClass:"form-group"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onLogin}},[t._v("Login")])],1),n("div",{staticClass:"col-6"},[n("b-button",{attrs:{type:"button",variant:"primary"},on:{click:t.onRegister}},[t._v("Register")])],1)])])])])])])])])},Y=[],tt={name:"LoginRegister",data:function(){return{username:"",password:""}},methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["login","register"])),{},{onLogin:function(){var t=JSON.stringify({Username:this.username,Password:this.password});this.login(t)},onRegister:function(){var t=JSON.stringify({Username:this.username,Password:this.password});this.register(t),this.$router.push({path:"/"})}})},et=tt,nt=(n("7a13"),Object(h["a"])(et,X,Y,!1,null,"d6f97298",null)),it=nt.exports;i["default"].use(s["a"]);var ot=[{path:"/",name:"home",component:S},{path:"/new",name:"newFilm",component:T},{path:"/loginRegister",name:"loginRegister",component:it},{path:"/edit/:id",name:"editFilm",component:W},{path:"/film/:id",name:"film",component:P},{path:"/oceni/:id",name:"oceni",component:K}],at=new s["a"]({mode:"history",base:"/",routes:ot}),rt=at,ct={name:"App",methods:Object(r["a"])(Object(r["a"])({},Object(c["b"])(["load_filmovi"])),{},{logout:function(){localStorage.removeItem("access_token"),rt.push({path:"/loginRegister"}).catch((function(){}))}}),mounted:function(){this.load_filmovi()}},st=ct,lt=(n("034f"),Object(h["a"])(st,o,a,!1,null,null,null)),ut=lt.exports;n("ac1f"),n("1276"),n("a434");i["default"].use(c["a"]);var ft=new c["a"].Store({state:{filmovi:[]},mutations:{set_filmovi:function(t,e){t.filmovi=e},add_film:function(t,e){t.filmovi.push(e)},add_user:function(t,e){t.korisnik=e},remove_film:function(t,e){for(var n=0;n<t.filmovi.length;n++)if(t.filmovi[n].id===e){t.filmovi.splice(n,1);break}},update_film:function(t,e){for(var n=0;n<t.filmovi.length;n++)if(t.filmovi[n].id===parseInt(e.id)){t.filmovi[n].Naziv=e.flm.Naziv,t.filmovi[n].Godina=e.flm.Godina,t.filmovi[n].Zanr=e.flm.Zanr;break}}},actions:{load_filmovi:function(t){var e=t.commit,n=localStorage.getItem("access_token");fetch("http://localhost:80/api/filmovi",{method:"get",headers:{"x-access-token":n}}).then((function(t){if(!t.ok){if(403==t.status)return void rt.push({path:"/loginRegister"}).catch((function(){}));throw t}return t.json()})).then((function(t){e("set_filmovi",t)})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))},delete_film:function(t,e){var n=t.commit,i=localStorage.getItem("access_token");fetch("http://localhost:80/api/film/".concat(e),{method:"delete",headers:{"x-access-token":i}}).then((function(t){if(!t.ok){if(403==t.status)return void rt.push({path:"/loginRegister"}).catch((function(){}));throw t}})).then((function(t){n("remove_film",e)})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert("usao u eror"),alert(t)})):alert(t)}))},change_film:function(t,e){var n=t.commit,i=localStorage.getItem("access_token");fetch("http://localhost:80/api/film/".concat(e.id),{method:"put",headers:{"Content-Type":"application/json","x-access-token":i},body:e.flm}).then((function(t){if(t.ok||403!=t.status)return t.json();rt.push({path:"/loginRegister"}).catch((function(){}))})).then((function(t){n("update_film",{id:e.id,flm:t})})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))},new_film:function(t,e){var n=t.commit,i=localStorage.getItem("access_token");fetch("http://localhost/api/filmovi",{method:"post",headers:{"Content-Type":"application/json","x-access-token":i},body:e}).then((function(t){if(!t.ok){if(403==t.status)return void rt.push({path:"/loginRegister"}).catch((function(){}));throw t}return t.json()})).then((function(t){n("add_film",t)})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))},oceni_film:function(t,e){t.commit;fetch("http://localhost/api/oceni/".concat(e.id),{method:"post",headers:{"Content-Type":"application/json"},body:e.ocena}).then((function(t){if(!t.ok)throw t})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))},login:function(t,e){t.commit;fetch("http://localhost/api/login",{method:"post",headers:{"Content-Type":"application/json"},body:e}).then((function(t){if(!t.ok)throw t;return t.json()})).then((function(t){localStorage.setItem("access_token",t.token),rt.push({path:"/"}).catch((function(){}))})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))},register:function(t,e){t.commit;fetch("http://localhost/api/register",{method:"post",headers:{"Content-Type":"application/json"},body:e}).then((function(t){if(!t.ok)throw t;return t.json()})).then((function(t){localStorage.setItem("access_token",t.token),rt.push({path:"/"})})).catch((function(t){"function"===typeof t.text?t.text().then((function(t){alert(t)})):alert(t)}))}},modules:{}}),mt=n("2b27"),dt=n.n(mt),pt=n("5f5b");n("f9e3"),n("2dd8");i["default"].use(pt["a"]),i["default"].use(dt.a),i["default"].config.productionTip=!1,new i["default"]({router:rt,store:ft,render:function(t){return t(ut)}}).$mount("#app")},"7a13":function(t,e,n){"use strict";n("1079")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.7d6f19c5.js.map